<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#141414">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.PNG">

  <title>PG Daily Log</title>

  <style>
    :root{
      --bg:#0f0f0f;
      --card:#141414;
      --border:#2a2a2a;
      --muted:#a8a8a8;
      --text:#f2f2f2;
      --accent:#ff5ca8;
      --good:#22c55e;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius:16px;
      --radius2:14px;
      --pad:16px;
      --gap:12px;
      --field:#0f0f0f;
    }

    /* Hide parts initially */
    .part2 { display: none; }
    .part2.show { display: block; }
    
    /* Shift-specific sections */
    .mid-section { display: none; }
    .mid-section.show { display: block; }
    
    .closing-section { display: none; }
    .closing-section.show { display: block; }

    .expWrap{ margin-top:14px; }
    .expToggle{ display:flex; align-items:center; gap:10px; cursor:pointer; }
    .expToggle input{ transform:scale(1.1); }

    .expPanel{ display:none; margin-top:10px; }
    .expPanel.show{ display:block; }

    .expGrid{
      display:grid;
      grid-template-columns: 110px 1fr;
      gap:12px 12px;
      align-items:center;
    }
    .expRow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:center;
      margin-top:8px;
    }
    .expHeadCell{
      color: var(--muted);
      font-size:13px;
      font-weight:700;
    }
    @media (max-width:420px){
      .expRow{ grid-template-columns:1fr; }
    }

    /* EXP table left labels (SKU) */
    .expLabelGrey{
      color:#cfcfcf;
      font-weight:700;
      letter-spacing:.2px;
    }

    /* EXP table header / accent text */
    .expLabelAccent{
      color:var(--accent);
      font-weight:800;
      font-size:13px;
    }

    .expInput{
      width:100%;
    }
    @media (max-width:420px){
      .expRow{ grid-template-columns: 90px 1fr; }
      .expLabel{ font-size:14px; }
    }

    .skuGrid{
      display:grid;
      grid-template-columns: 1fr 220px;
      gap:12px;
      align-items:end;
    }
    @media (max-width:420px){
      .skuGrid{ grid-template-columns: 1fr 170px; }
    }
    .closedBox .btns{ display:flex; gap:10px; justify-content:flex-start; }
    .closedBox label{ margin-top:0; }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#0b0b0b 0%, #0f0f0f 40%, #0b0b0b 100%);
      color:var(--text);
      font-family:-apple-system, system-ui, Segoe UI, Roboto, Arial, sans-serif;
    }

    header{
      position:sticky;
      top:0;
      z-index:10;
      padding: calc(18px + env(safe-area-inset-top)) 16px 14px;
      background:rgba(10,10,10,.82);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    header .title{
      font-size:22px;
      font-weight:800;
      letter-spacing:.2px;
    }

    main{padding:16px; max-width: 860px; margin: 0 auto 28px;}

    .card{
      background:var(--card);
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
      margin: 12px 0;
    }
    .card h2{
      margin:0 0 10px;
      font-size:20px;
      font-weight:800;
    }
    .subline{
      margin: 0 0 10px;
      color:var(--muted);
      font-size:13px;
    }
    .divider{
      height:1px;
      background:rgba(255,255,255,.07);
      margin: 12px 0;
    }

    label{
      display:block;
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
    }

    input:not([type="checkbox"]):not([type="radio"]), select, textarea{
      width:100%;
      margin-top:6px;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:var(--field);
      color:var(--text);
      outline:none;
    }
    textarea{min-height:70px; resize:vertical}
    
    /* Date field style for readonly */
    input[readonly]{
      background:#1a1a1a;
      border-color:#333;
      color:#888;
      cursor:not-allowed;
    }
    
    /* Date format input */
    .date-input {
      letter-spacing: 1px;
    }

    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items:end;
    }
    .row3{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      align-items:end;
    }
    @media (max-width: 560px){
      .row2,.row3{grid-template-columns:1fr}
    }

    /* Shift buttons */
    .shiftWrap{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .pill{
      border:1px solid rgba(255,255,255,.10);
      background:#101010;
      color:var(--text);
      padding:10px 12px;
      border-radius:999px;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      transition:all 0.2s;
    }
    .pill:hover{
      background:#1a1a1a;
    }
    .pill.active{
      border-color: rgba(255,92,168,.55);
      background:rgba(255,92,168,.12);
      box-shadow: 0 0 0 3px rgba(255,92,168,.12);
    }

    /* Focus SKU */
    .skuBlock{
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      padding:14px;
      margin-top:12px;
      background:rgba(0,0,0,.18);
    }
    .skuTitle{
      font-size:18px;
      font-weight:800;
      margin:0 0 10px;
    }

    .seg{
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:6px;
    }
    .seg label{margin:0; font-size:13px; color:var(--muted)}
    .seg .segBtns{
      display:flex;
      gap:8px;
    }
    .segBtn{
      border:1px solid rgba(255,255,255,.12);
      background:#0f0f0f;
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:13px;
      min-width:72px;
      text-align:center;
      transition:all 0.2s;
    }
    .segBtn:hover{
      background:#1a1a1a;
    }
    .segBtn.active{
      border-color: rgba(255,92,168,.55);
      background:rgba(255,92,168,.12);
      box-shadow: 0 0 0 3px rgba(255,92,168,.12);
    }

    /* Delivery expiry */
    .hint{color:var(--muted); font-size:13px; margin: 6px 0 10px;}
    .deliveryRow{
      display:grid;
      grid-template-columns: 140px 1fr 140px 1fr;
      gap:10px;
      align-items:end;
      padding:10px 0;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .deliveryRow:last-child{border-bottom:none}
    .deliveryLabel{
      font-weight:800;
      color:var(--text);
      opacity:.92;
      padding-top:8px;
    }

    @media (max-width: 720px){
      .deliveryRow{
        grid-template-columns: 110px 1fr;
      }
      .expLabel{padding-top:0}
    }

    /* Checklist */
    .checkItem{
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      padding:14px;
      margin-top:12px;
      background:rgba(0,0,0,.18);
    }

    .checkHeader{
      display:grid;
      grid-template-columns: 28px 1fr;
      gap:10px;
      align-items:start;
    }

    .checkMain{
      width:22px;
      height:22px;
      margin-top:2px;
      accent-color: #3b82f6;
      cursor:pointer;
    }

    .checkTitleRow{
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .checkTitle{
      font-size:22px;
      font-weight:900;
      margin:0;
      line-height:1.1;
    }
    .status{
      color:var(--muted);
      font-size:13px;
      margin-top:6px;
    }

    .detailsBox{
      margin-top:12px;
      padding:12px;
      border-radius:14px;
      border:1px dashed rgba(255,255,255,.18);
      background:rgba(0,0,0,.14);
    }
    .detailsHead{
      color:var(--muted);
      font-size:13px;
      margin:0 0 10px;
      font-weight:700;
    }

    .detailsGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 560px){
      .detailsGrid{grid-template-columns:1fr}
    }

    .dRow{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
      background:#0f0f0f;
    }
    .dRow input[type="checkbox"]{
      width:18px;
      height:18px;
      margin:0;
      flex:0 0 auto;
      accent-color:#e5e7eb;
      cursor:pointer;
    }
    .dRow span{
      color:var(--text);
      font-size:14px;
      line-height:1.2;
    }
    
    /* Cleaning reminder style */
    .cleaningReminder{
      margin-top:10px;
      color:#a0a0a0;
      font-size:13px;
      font-style:italic;
    }
    
    /* Freezer issue sub-options */
    .subOptions {
      margin-top: 10px;
      padding-left: 20px;
      border-left: 2px solid rgba(255,255,255,0.1);
    }
    
    .subOptions .dRow {
      background: rgba(0,0,0,0.2);
      margin-bottom: 5px;
    }
    
    .otherInput {
      margin-top: 8px;
      margin-left: 28px;
    }

    .inlineBlock{
      margin-top:10px;
      display:grid;
      grid-template-columns: 28px 1fr;
      gap:10px;
      align-items:center;
    }
    .inlineBlock input[type="checkbox"]{
      width:18px; height:18px; margin:0;
      accent-color:#e5e7eb;
      cursor:pointer;
    }
    .inlineBlock .inlineLabel{
      font-size:14px;
      color:var(--text);
      font-weight:800;
    }

    .noteInput{
      margin-top:8px;
    }

    /* Cash */
    .cashGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      align-items:end;
    }
    @media (max-width: 560px){
      .cashGrid{grid-template-columns:1fr}
    }
    .diffRow{
      margin-top:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background:#0f0f0f;
    }
    .diffLabel{
      color:var(--muted);
      font-size:13px;
      font-weight:800;
    }
    .diffValue{
      font-size:16px;
      font-weight:900;
      color:var(--accent);
    }

    /* Footer buttons */
    .btnRow{
      display:flex;
      gap:10px;
      margin-top:14px;
    }
    .btn{
      flex:1;
      border:none;
      border-radius:14px;
      padding:14px 14px;
      font-weight:900;
      font-size:16px;
      cursor:pointer;
      transition:all 0.2s;
    }
    .btn.secondary{
      background:#232323;
      color:#fff;
      border:1px solid rgba(255,255,255,.10);
      flex: .7;
    }
    .btn.secondary:hover{
      background:#2a2a2a;
    }
    .btn.primary{
      background:var(--good);
      color:#041006;
      box-shadow: 0 10px 22px rgba(34,197,94,.22);
    }
    .btn.primary:hover{
      background:#16a34a;
      transform:translateY(-2px);
    }
    .smallHelp{
      margin-top:10px;
      color:var(--muted);
      font-size:12.5px;
      line-height:1.35;
    }
    
    /* Mid shift checklist items */
    .mid-checklist-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      margin-top: 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.18);
    }
    
    .mid-checklist-item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      accent-color: #3b82f6;
    }
    
    .mid-checklist-label {
      flex: 1;
      font-size: 16px;
      font-weight: 600;
    }
    
    .mid-time {
      font-size: 13px;
      color: var(--muted);
      min-width: 100px;
      text-align: right;
    }
    
    /* Closing section */
    .closing-reminder {
      color: var(--muted);
      font-size: 13px;
      margin-top: 6px;
      font-style: italic;
    }
  </style>
</head>

<body>
  <header>
    <div class="title">PG Daily Log</div>
  </header>

  <main>
    <!-- Part 1: Store, Date, Name, Operation -->
    <section class="card" id="part1">
      <h2>Operation Details</h2>

      <div class="row2">
        <div>
          <label for="store">Store</label>
          <select id="store">
            <option value="490 Bergen St">490 Bergen St</option>
            <option value="1562 1st Ave">1562 1st Ave</option>
          </select>
        </div>

        <div>
          <label for="date">Date</label>
          <input id="date" type="text" class="date-input" readonly />
        </div>
      </div>

      <div class="row2">
        <div>
          <label for="name">Name</label>
          <input id="name" type="text" placeholder="Your name" autocomplete="off" />
        </div>

        <div>
          <label>Operation</label>
          <div class="shiftWrap" role="group" aria-label="Operation">
            <div class="pill" data-shift="opening">Opening (09:40–11:00)</div>
            <div class="pill" data-shift="mid">12–5pm (12:00–17:00)</div>
            <div class="pill" data-shift="closing">Closing (19:40–21:20)</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Part 2: Content that changes based on operation -->
    <section class="part2" id="part2">
      <!-- Opening Section -->
      <div id="openingSection" class="opening-section">
        <!-- Focus SKUs -->
        <section class="card" id="focusSKUs">
          <h2>Focus SKUs (record only)</h2>

          <div class="skuBlock">
            <div class="skuTitle">SKU 1</div>
            <div class="skuGrid">
              <div>
                <label for="fp1_reco">Recommend Times</label>
                <input id="fp1_reco" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp1_closed">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>

          <div class="skuBlock">
            <div class="skuTitle">SKU 2</div>
            <div class="skuGrid">
              <div>
                <label for="fp2_reco">Recommend Times</label>
                <input id="fp2_reco" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp2_closed">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>

          <div class="skuBlock">
            <div class="skuTitle">SKU 3</div>
            <div class="skuGrid">
              <div>
                <label for="fp3_reco">Recommend Times</label>
                <input id="fp3_reco" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp3_closed">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Delivery expiry check -->
        <div class="card expWrap">
          <h2>Today's delivery expiry check</h2>
          <div class="subline">EXP mm/dd/yyyy</div>

          <label class="expToggle">
            <input type="checkbox" id="exp_hasIssue">
            <span>Found items with EXP ≤ 8 months</span>
          </label>

          <div id="exp_panel" class="expPanel">
            <div class="expRow expHead" style="margin-top:10px;">
              <div class="expHeadCell">SKU</div>
              <div class="expHeadCell">EXP</div>
            </div>

            <div class="expRow">
              <input class="expInput" id="exp_sku1" placeholder="" autocomplete="off">
              <input class="expInput date-format" id="exp_exp1" placeholder="mm/dd/yyyy" autocomplete="off">
            </div>

            <div class="expRow">
              <input class="expInput" id="exp_sku2" placeholder="" autocomplete="off">
              <input class="expInput date-format" id="exp_exp2" placeholder="mm/dd/yyyy" autocomplete="off">
            </div>

            <div class="expRow">
              <input class="expInput" id="exp_sku3" placeholder="" autocomplete="off">
              <input class="expInput date-format" id="exp_exp3" placeholder="mm/dd/yyyy" autocomplete="off">
            </div>

            <div class="expRow">
              <input class="expInput" id="exp_sku4" placeholder="" autocomplete="off">
              <input class="expInput date-format" id="exp_exp4" placeholder="mm/dd/yyyy" autocomplete="off">
            </div>

            <div class="expRow">
              <input class="expInput" id="exp_sku5" placeholder="" autocomplete="off">
              <input class="expInput date-format" id="exp_exp5" placeholder="mm/dd/yyyy" autocomplete="off">
            </div>
          </div>
        </div>

        <!-- Checklist for Opening -->
        <section class="card">
          <h2>Checklist</h2>

          <!-- Environment -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="env_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Environment Normal</div>
                </div>
                <div class="status" id="env_status">Not done</div>

                <div class="detailsBox">
                  <div class="detailsHead">Details (check if apply)</div>
                  <div class="detailsGrid" id="env_details">
                    <label class="dRow"><input type="checkbox" data-detail="env" value="Music issue"><span>Music issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="env" value="Lights issue"><span>Lights issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="env" value="AC/Heat issue"><span>AC/Heat issue</span></label>
                    <label class="dRow"><input type="checkbox" id="freezer_issue" data-detail="env" value="Freezer issue"><span>Freezer issue</span></label>
                  </div>
                  
                  <!-- Freezer issue sub-options -->
                  <div id="freezer_suboptions" class="subOptions" style="display: none;">
                    <label class="dRow"><input type="radio" name="freezer_problem" value="door not sealed"><span>Door not sealed</span></label>
                    <label class="dRow"><input type="radio" name="freezer_problem" value="temp abnormal"><span>Temp abnormal</span></label>
                    <label class="dRow"><input type="radio" name="freezer_problem" value="totally down"><span>Totally down</span></label>
                    <label class="dRow"><input type="radio" name="freezer_problem" value="other"><span>Other</span></label>
                    <input type="text" id="freezer_other_text" class="otherInput" placeholder="Specify other issue" style="display: none;">
                  </div>

                  <div class="detailsGrid" style="margin-top:12px;">
                    <label class="dRow">
                      <input type="checkbox" id="label_missing_chk">
                      <span>Label missing</span>
                    </label>

                    <input
                      id="label_missing_text"
                      type="text"
                      placeholder="eg, FD duck head, poop bag, etc"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- System -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="sys_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">System Normal</div>
                </div>
                <div class="status" id="sys_status">Not done</div>

                <div class="detailsBox">
                  <div class="detailsHead">Details (check if apply)</div>
                  <div class="detailsGrid" id="sys_details">
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="Phone issue"><span>Phone issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="WiFi issue"><span>WiFi issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="POS issue"><span>POS issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="Printer issue"><span>Printer issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="Receipt printer issue"><span>Receipt printer issue</span></label>
                    <label class="dRow"><input type="checkbox" data-detail="sys" value="Barcode scanner issue"><span>Barcode scanner issue</span></label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Cleaning -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="clean_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Cleaning Check</div>
                </div>
                <div class="status" id="clean_status">Not done</div>

                <div class="detailsBox">
                  <div class="cleaningReminder">
                    Reminder: Check Window, Floor, Restroom cleanliness
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Bin, Shelf & Freezer Ready -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="bsf_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Bin, Shelf &amp; Freezer Ready</div>
                </div>
                <div class="status" id="bsf_status">Not done</div>
              </div>
            </div>
          </div>
        </section>
      </div> <!-- End Opening Section -->

      <!-- Mid Section (12-5pm) -->
      <div id="midSection" class="mid-section">
        <section class="card">
          <h2>Mid Shift Checklist</h2>
          <div class="subline">Check items as completed (auto-timestamp)</div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_bin">
            <div class="mid-checklist-label">Bin is re-organized</div>
            <div class="mid-time" id="mid_bin_time"></div>
          </div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_shelf">
            <div class="mid-checklist-label">Shelf is re-organized</div>
            <div class="mid-time" id="mid_shelf_time"></div>
          </div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_freezer">
            <div class="mid-checklist-label">Freezer is re-organized</div>
            <div class="mid-time" id="mid_freezer_time"></div>
          </div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_floor">
            <div class="mid-checklist-label">Floor is cleaned</div>
            <div class="mid-time" id="mid_floor_time"></div>
          </div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_counter">
            <div class="mid-checklist-label">Counter has no trash</div>
            <div class="mid-time" id="mid_counter_time"></div>
          </div>
          
          <div class="mid-checklist-item">
            <input type="checkbox" id="mid_freezers_working">
            <div class="mid-checklist-label">Freezers are working</div>
            <div class="mid-time" id="mid_freezers_working_time"></div>
          </div>
        </section>
      </div> <!-- End Mid Section -->

      <!-- Closing Section -->
      <div id="closingSection" class="closing-section">
        <!-- Focus SKUs for closing -->
        <section class="card" id="focusSKUsClosing">
          <h2>Focus SKUs (record only)</h2>

          <div class="skuBlock">
            <div class="skuTitle">SKU 1</div>
            <div class="skuGrid">
              <div>
                <label for="fp1_reco_closing">Recommend Times</label>
                <input id="fp1_reco_closing" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp1_closed_closing">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>

          <div class="skuBlock">
            <div class="skuTitle">SKU 2</div>
            <div class="skuGrid">
              <div>
                <label for="fp2_reco_closing">Recommend Times</label>
                <input id="fp2_reco_closing" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp2_closed_closing">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>

          <div class="skuBlock">
            <div class="skuTitle">SKU 3</div>
            <div class="skuGrid">
              <div>
                <label for="fp3_reco_closing">Recommend Times</label>
                <input id="fp3_reco_closing" type="number" inputmode="numeric" min="0" value="0" />
              </div>

              <div class="closedBox">
                <label>Closed</label>
                <div class="btns segBtns" data-seg="fp3_closed_closing">
                  <div class="segBtn active" data-val="No">No</div>
                  <div class="segBtn" data-val="Yes">Yes</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Checklist for Closing -->
        <section class="card">
          <h2>Checklist</h2>

          <!-- Things OFF -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="things_off_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Things OFF</div>
                </div>
                <div class="status" id="things_off_status">Not done</div>
                <div class="closing-reminder">Reminder: Music, Lights, AC/Heat, POS</div>
              </div>
            </div>
          </div>

          <!-- Freezer is on -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="freezer_on_main" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Freezer is on</div>
                </div>
                <div class="status" id="freezer_on_status">Not done</div>
              </div>
            </div>
          </div>

          <!-- Bin, Shelf & Freezer Ready -->
          <div class="checkItem">
            <div class="checkHeader">
              <input class="checkMain" type="checkbox" id="bsf_main_closing" />
              <div>
                <div class="checkTitleRow">
                  <div class="checkTitle">Bin, Shelf &amp; Freezer Ready</div>
                </div>
                <div class="status" id="bsf_status_closing">Not done</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Trash Out (NO details) -->
        <div class="checkItem">
          <div class="checkHeader">
            <input class="checkMain" type="checkbox" id="trash_main_closing" />
            <div>
              <div class="checkTitleRow">
                <div class="checkTitle">Trash Out</div>
              </div>
              <div class="status" id="trash_status_closing">Not done</div>
            </div>
          </div>
        </div>

        <!-- Supplies Check -->
        <div class="checkItem">
          <div class="checkHeader">
            <input class="checkMain" type="checkbox" id="sup_main_closing" />
            <div>
              <div class="checkTitleRow">
                <div class="checkTitle">Supplies Check</div>
              </div>
              <div class="status" id="sup_status_closing">Not done</div>

              <div class="detailsBox">
                <div class="detailsHead">Details (check if apply)</div>
                <div class="detailsGrid" id="sup_details_closing">
                  <label class="dRow"><input type="checkbox" data-detail="sup" value="Receipt paper ≤ 3 rolls"><span>Receipt paper ≤ 3 rolls</span></label>
                  <label class="dRow"><input type="checkbox" data-detail="sup" value="Printer cartridge ≤ 15%"><span>Printer cartridge ≤ 15%</span></label>
                  <label class="dRow"><input type="checkbox" data-detail="sup" value="Price label ≤ 1 roll"><span>Price label ≤ 1 roll</span></label>
                  <label class="dRow"><input type="checkbox" data-detail="sup" value="Fabuloso need it next week"><span>Fabuloso need it next week</span></label>
                  <label class="dRow"><input type="checkbox" data-detail="sup" value="Trash Bag = 1 roll"><span>Trash Bag = 1 roll</span></label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Cash -->
        <section class="card">
          <h2>Cash</h2>

          <div class="cashGrid">
            <div>
              <label for="drawerCash">Drawer Cash ($)</label>
              <input id="drawerCash" type="number" inputmode="decimal" placeholder="" />
            </div>

            <div>
              <label for="systemCashSales">System Cash Sales ($)</label>
              <input id="systemCashSales" type="number" inputmode="decimal" placeholder="" />
            </div>
          </div>

          <div class="diffRow">
            <div class="diffLabel">Difference</div>
            <div class="diffValue" id="differenceValue">$0.00</div>
          </div>
        </section>
      </div> <!-- End Closing Section -->

      <!-- Submit button (shown for all sections) -->
      <section class="card">
        <div class="btnRow">
          <button class="btn secondary" type="button" id="btnBack">Back</button>
          <button class="btn primary" type="button" id="btnSend">Submit &amp; Send (WhatsApp)</button>
        </div>
      </section>
    </section> <!-- End Part 2 -->
  </main>

  <script>
    // ---------------------------
    // Helpers
    // ---------------------------
    const WA_PHONE = "12122894416";
    const LS_NAME_KEY = "pg_dl_name_v1";
    const LS_SHIFT_KEY = "pg_dl_shift_v1";

    function pad2(n){ return String(n).padStart(2,"0"); }
    
    // Format time in 12-hour format
    function formatTime(d){
      try{
        const h = d.getHours();
        const m = d.getMinutes();
        const ampm = h >= 12 ? "PM" : "AM";
        const hh = h % 12 || 12;
        return `${hh}:${pad2(m)} ${ampm}`;
      }catch(e){
        return "";
      }
    }
    
    // Format date as mm/dd/yyyy
    function formatDateMMDDYYYY(date) {
      const mm = pad2(date.getMonth() + 1);
      const dd = pad2(date.getDate());
      const yyyy = date.getFullYear();
      return `${mm}/${dd}/${yyyy}`;
    }
    
    // Auto-format date input with slashes
    function formatDateInput(input) {
      let value = input.value.replace(/\D/g, '');
      
      if (value.length > 2) {
        value = value.substring(0, 2) + '/' + value.substring(2);
      }
      if (value.length > 5) {
        value = value.substring(0, 5) + '/' + value.substring(5, 9);
      }
      
      input.value = value;
    }
    
    function toNum(v){
      const n = parseFloat(v);
      return Number.isFinite(n) ? n : 0;
    }

    // ---------------------------
    // Initialize page
    // ---------------------------
    const $date = document.getElementById("date");
    const $name = document.getElementById("name");
    const $store = document.getElementById("store");
    const $part1 = document.getElementById("part1");
    const $part2 = document.getElementById("part2");

    // Set today's date in mm/dd/yyyy format
    (function(){
      const now = new Date();
      $date.value = formatDateMMDDYYYY(now);
    })();

    // Load saved name
    const savedName = localStorage.getItem(LS_NAME_KEY);
    if(savedName) $name.value = savedName;

    $name.addEventListener("input", () => {
      localStorage.setItem(LS_NAME_KEY, $name.value.trim());
    });

    // ---------------------------
    // Operation selection with scroll
    // ---------------------------
    const shiftButtons = Array.from(document.querySelectorAll(".pill[data-shift]"));
    
    function setShift(s){
      shiftButtons.forEach(b => b.classList.toggle("active", b.dataset.shift === s));
      localStorage.setItem(LS_SHIFT_KEY, s || "");
      
      // Show part 2 and hide part 1
      $part2.classList.add("show");
      
      // Scroll to part 2
      setTimeout(() => {
        $part2.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 100);
      
      // Show appropriate section based on shift
      document.getElementById('openingSection').classList.remove('show');
      document.getElementById('midSection').classList.remove('show');
      document.getElementById('closingSection').classList.remove('show');
      
      if (s === 'opening') {
        document.getElementById('openingSection').classList.add('show');
      } else if (s === 'mid') {
        document.getElementById('midSection').classList.add('show');
      } else if (s === 'closing') {
        document.getElementById('closingSection').classList.add('show');
      }
    }

    const savedShift = localStorage.getItem(LS_SHIFT_KEY) || "";
    if(savedShift) {
      setShift(savedShift);
    }

    shiftButtons.forEach(btn => {
      btn.addEventListener("click", () => setShift(btn.dataset.shift));
    });

    // Back button (scroll to part 1)
    document.getElementById("btnBack").addEventListener("click", () => {
      $part1.scrollIntoView({top: 0, behavior: "smooth"});
    });

    // ---------------------------
    // Focus SKU segmented (Yes/No) for opening
    // ---------------------------
    const segGroupsOpening = Array.from(document.querySelectorAll("#openingSection .segBtns[data-seg]"));
    const segStateOpening = {
      fp1_closed: "No",
      fp2_closed: "No",
      fp3_closed: "No"
    };

    function setSegOpening(groupKey, val){
      segStateOpening[groupKey] = val;
      const wrap = document.querySelector(`#openingSection .segBtns[data-seg="${groupKey}"]`);
      if(!wrap) return;
      Array.from(wrap.querySelectorAll(".segBtn")).forEach(b => {
        b.classList.toggle("active", b.dataset.val === val);
      });
    }

    // Initialize all to "No"
    segGroupsOpening.forEach(wrap => {
      const key = wrap.dataset.seg;
      setSegOpening(key, "No");
      
      wrap.addEventListener("click", (e) => {
        const btn = e.target.closest(".segBtn");
        if(!btn) return;
        setSegOpening(key, btn.dataset.val);
      });
    });

    // ---------------------------
    // Focus SKU segmented (Yes/No) for closing
    // ---------------------------
    const segGroupsClosing = Array.from(document.querySelectorAll("#closingSection .segBtns[data-seg]"));
    const segStateClosing = {
      fp1_closed_closing: "No",
      fp2_closed_closing: "No",
      fp3_closed_closing: "No"
    };

    function setSegClosing(groupKey, val){
      segStateClosing[groupKey] = val;
      const wrap = document.querySelector(`#closingSection .segBtns[data-seg="${groupKey}"]`);
      if(!wrap) return;
      Array.from(wrap.querySelectorAll(".segBtn")).forEach(b => {
        b.classList.toggle("active", b.dataset.val === val);
      });
    }

    // Initialize all to "No"
    segGroupsClosing.forEach(wrap => {
      const key = wrap.dataset.seg;
      setSegClosing(key, "No");
      
      wrap.addEventListener("click", (e) => {
        const btn = e.target.closest(".segBtn");
        if(!btn) return;
        setSegClosing(key, btn.dataset.val);
      });
    });

    // ---------------------------
    // Checklist status text for opening
    // ---------------------------
    const mainChecksOpening = [
      ["env_main", "env_status"],
      ["sys_main", "sys_status"],
      ["clean_main", "clean_status"],
      ["bsf_main", "bsf_status"]
    ];

    function updateStatusOpening(mainId, statusId){
      const main = document.getElementById(mainId);
      const st = document.getElementById(statusId);
      if(!main || !st) return;

      if(main.checked){
        const now = new Date();
        st.textContent = `Completed at ${formatTime(now)}`;
        st.dataset.completedAt = now.toISOString();
      }else{
        st.textContent = "Not done";
        delete st.dataset.completedAt;
      }
    }

    mainChecksOpening.forEach(([m,s]) => {
      const el = document.getElementById(m);
      if(!el) return;
      el.addEventListener("change", () => updateStatusOpening(m,s));
      updateStatusOpening(m,s);
    });

    // ---------------------------
    // Checklist status text for closing
    // ---------------------------
    const mainChecksClosing = [
      ["things_off_main", "things_off_status"],
      ["freezer_on_main", "freezer_on_status"],
      ["bsf_main_closing", "bsf_status_closing"],
      ["trash_main_closing", "trash_status_closing"],
      ["sup_main_closing", "sup_status_closing"]
    ];

    function updateStatusClosing(mainId, statusId){
      const main = document.getElementById(mainId);
      const st = document.getElementById(statusId);
      if(!main || !st) return;

      if(main.checked){
        const now = new Date();
        st.textContent = `Completed at ${formatTime(now)}`;
        st.dataset.completedAt = now.toISOString();
      }else{
        st.textContent = "Not done";
        delete st.dataset.completedAt;
      }
    }

    mainChecksClosing.forEach(([m,s]) => {
      const el = document.getElementById(m);
      if(!el) return;
      el.addEventListener("change", () => updateStatusClosing(m,s));
      updateStatusClosing(m,s);
    });

    // ---------------------------
    // Freezer issue sub-options
    // ---------------------------
    const freezerIssueCheck = document.getElementById("freezer_issue");
    const freezerSubOptions = document.getElementById("freezer_suboptions");
    const freezerOtherText = document.getElementById("freezer_other_text");
    
    freezerIssueCheck.addEventListener("change", function() {
      freezerSubOptions.style.display = this.checked ? "block" : "none";
      if (!this.checked) {
        // Uncheck all freezer problem options
        document.querySelectorAll('input[name="freezer_problem"]').forEach(radio => {
          radio.checked = false;
        });
        freezerOtherText.style.display = "none";
        freezerOtherText.value = "";
      }
    });
    
    // Show other text input when "other" is selected
    document.querySelectorAll('input[name="freezer_problem"]').forEach(radio => {
      radio.addEventListener("change", function() {
        freezerOtherText.style.display = (this.value === "other") ? "block" : "none";
        if (this.value !== "other") {
          freezerOtherText.value = "";
        }
      });
    });

    // ---------------------------
    // Mid shift checklist with auto timestamp
    // ---------------------------
    const midCheckItems = [
      {id: "mid_bin", timeId: "mid_bin_time", label: "Bin is re-organized"},
      {id: "mid_shelf", timeId: "mid_shelf_time", label: "Shelf is re-organized"},
      {id: "mid_freezer", timeId: "mid_freezer_time", label: "Freezer is re-organized"},
      {id: "mid_floor", timeId: "mid_floor_time", label: "Floor is cleaned"},
      {id: "mid_counter", timeId: "mid_counter_time", label: "Counter has no trash"},
      {id: "mid_freezers_working", timeId: "mid_freezers_working_time", label: "Freezers are working"}
    ];
    
    midCheckItems.forEach(item => {
      const checkbox = document.getElementById(item.id);
      const timeElement = document.getElementById(item.timeId);
      
      checkbox.addEventListener("change", function() {
        if (this.checked) {
          timeElement.textContent = formatTime(new Date());
        } else {
          timeElement.textContent = "";
        }
      });
    });

    // ---------------------------
    // Delivery EXP toggle
    // ---------------------------
    const expChk = document.getElementById("exp_hasIssue");
    const expPanel = document.getElementById("exp_panel");

    function syncExpPanel(){
      const on = expChk.checked;
      expPanel.classList.toggle("show", on);
    }

    expChk.addEventListener("change", syncExpPanel);
    syncExpPanel(); // Initialize

    // ---------------------------
    // Date auto-format for EXP fields
    // ---------------------------
    document.querySelectorAll('.date-format').forEach(input => {
      input.addEventListener('input', function() {
        formatDateInput(this);
      });
      
      input.addEventListener('keydown', function(e) {
        // Allow navigation keys
        if ([8, 9, 13, 37, 39].includes(e.keyCode)) return;
        
        // Only allow numbers
        if (!/\d/.test(e.key) && e.keyCode !== 191) { // 191 is slash key
          e.preventDefault();
        }
      });
    });

    // ---------------------------
    // Cash auto difference
    // ---------------------------
    const $drawer = document.getElementById("drawerCash");
    const $system = document.getElementById("systemCashSales");
    const $diff = document.getElementById("differenceValue");

    function updateDifference(){
      const drawer = toNum($drawer.value);
      const system = toNum($system.value);
      const diff = drawer - system;
      $diff.textContent = `$${diff.toFixed(2)}`;
      $diff.dataset.value = diff.toFixed(2);
    }
    
    $drawer.addEventListener("input", updateDifference);
    $system.addEventListener("input", updateDifference);
    updateDifference();

    // ---------------------------
    // Build WhatsApp message
    // ---------------------------
    function getShiftLabel(){
      const active = shiftButtons.find(b => b.classList.contains("active"));
      if(!active) return "";
      const s = active.dataset.shift;
      if(s === "opening") return "Opening";
      if(s === "mid") return "12–5pm";
      if(s === "closing") return "Closing";
      return "";
    }

    function listCheckedDetails(detailKey, section = ''){
      const selector = section ? `#${section} ` : '';
      const nodes = Array.from(document.querySelectorAll(`${selector}input[type="checkbox"][data-detail="${detailKey}"]`));
      const vals = nodes.filter(n => n.checked).map(n => n.value);
      return vals;
    }

    function buildMessage(){
      const store = $store.value || "";
      const date = $date.value || "";
      const name = ($name.value || "").trim();
      const shift = getShiftLabel();

      const lines = [];

      // Header
      lines.push(`PG Daily Log`);
      lines.push(`Store: ${store}`);
      lines.push(`Date: ${date}`);
      lines.push(`Name: ${name}`);
      lines.push(`Operation: ${shift}`);
      lines.push(``);

      if (shift === "Opening") {
        // Focus SKUs for opening
        const fp = [
          {sku:"SKU 1", reco: document.getElementById("fp1_reco").value ?? "0", closed: segStateOpening.fp1_closed},
          {sku:"SKU 2", reco: document.getElementById("fp2_reco").value ?? "0", closed: segStateOpening.fp2_closed},
          {sku:"SKU 3", reco: document.getElementById("fp3_reco").value ?? "0", closed: segStateOpening.fp3_closed},
        ];

        const expHasIssue = document.getElementById("exp_hasIssue").checked;

        const delivery = [1,2,3,4,5].map(i => ({
          sku: (document.getElementById(`exp_sku${i}`)?.value || "").trim(),
          exp: (document.getElementById(`exp_exp${i}`)?.value || "").trim()
        }));

        const envDetails = listCheckedDetails("env");
        const sysDetails = listCheckedDetails("sys");

        const envDone = document.getElementById("env_main").checked;
        const sysDone = document.getElementById("sys_main").checked;
        const cleanDone = document.getElementById("clean_main").checked;
        const bsfDone = document.getElementById("bsf_main").checked;

        const labelMissingChecked = document.getElementById("label_missing_chk").checked;
        const labelMissingVal = (document.getElementById("label_missing_text").value || "").trim();

        // Focus SKUs
        lines.push(`Focus SKUs`);
        fp.forEach(x => {
          const reco = (x.reco === "" ? "0" : x.reco);
          lines.push(`${x.sku} — Recommend: ${reco} | Closed: ${x.closed}`);
        });
        lines.push(``);

        // Delivery (only if checked)
        lines.push(`Delivery Expiry Check (EXP ≤ 8 months)`);
        lines.push(`Found items: ${expHasIssue ? "Yes" : "No"}`);

        if(expHasIssue){
          delivery.forEach((d, idx) => {
            if(d.sku || d.exp){
              lines.push(`SKU ${idx+1} — ${d.sku} | EXP: ${d.exp}`);
            }
          });
        }
        lines.push(``);

        // Checklist summary
        function doneText(b){ return b ? "Done" : "Not done"; }

        lines.push(`Checklist`);
        lines.push(`Environment Normal: ${doneText(envDone)}`);
        if(envDetails.length) lines.push(`- Issues: ${envDetails.join(", ")}`);
        
        // Freezer issue details
        if (document.getElementById("freezer_issue").checked) {
          const freezerProblem = document.querySelector('input[name="freezer_problem"]:checked');
          if (freezerProblem) {
            let problemText = freezerProblem.value;
            if (freezerProblem.value === "other" && freezerOtherText.value.trim()) {
              problemText = `Other: ${freezerOtherText.value.trim()}`;
            }
            lines.push(`- Freezer issue: ${problemText}`);
          }
        }
        
        lines.push(`- Label missing checked: ${labelMissingChecked ? "Yes" : "No"}`);
        if(labelMissingVal) lines.push(`- Label missing: ${labelMissingVal}`);

        lines.push(`System Normal: ${doneText(sysDone)}`);
        if(sysDetails.length) lines.push(`- Issues: ${sysDetails.join(", ")}`);

        lines.push(`Cleaning Check: ${doneText(cleanDone)}`);
        lines.push(`Bin, Shelf & Freezer Ready: ${doneText(bsfDone)}`);

      } else if (shift === "12–5pm") {
        // Mid shift checklist
        lines.push(`Mid Shift Checklist`);
        midCheckItems.forEach(item => {
          const checkbox = document.getElementById(item.id);
          const timeElement = document.getElementById(item.timeId);
          lines.push(`${item.label}: ${checkbox.checked ? `Done at ${timeElement.textContent}` : 'Not done'}`);
        });
        
      } else if (shift === "Closing") {
        // Focus SKUs for closing
        const fpClosing = [
          {sku:"SKU 1", reco: document.getElementById("fp1_reco_closing").value ?? "0", closed: segStateClosing.fp1_closed_closing},
          {sku:"SKU 2", reco: document.getElementById("fp2_reco_closing").value ?? "0", closed: segStateClosing.fp2_closed_closing},
          {sku:"SKU 3", reco: document.getElementById("fp3_reco_closing").value ?? "0", closed: segStateClosing.fp3_closed_closing},
        ];

        const thingsOffDone = document.getElementById("things_off_main").checked;
        const freezerOnDone = document.getElementById("freezer_on_main").checked;
        const bsfDoneClosing = document.getElementById("bsf_main_closing").checked;
        const trashDoneClosing = document.getElementById("trash_main_closing").checked;
        const supDoneClosing = document.getElementById("sup_main_closing").checked;
        
        const supDetailsClosing = listCheckedDetails("sup", "closingSection");

        const drawer = ($drawer.value || "").trim();
        const systemSales = ($system.value || "").trim();
        const diffVal = $diff.dataset.value ?? "";

        // Focus SKUs
        lines.push(`Focus SKUs`);
        fpClosing.forEach(x => {
          const reco = (x.reco === "" ? "0" : x.reco);
          lines.push(`${x.sku} — Recommend: ${reco} | Closed: ${x.closed}`);
        });
        lines.push(``);

        // Checklist summary
        function doneText(b){ return b ? "Done" : "Not done"; }

        lines.push(`Checklist`);
        lines.push(`Things OFF: ${doneText(thingsOffDone)}`);
        lines.push(`Freezer is on: ${doneText(freezerOnDone)}`);
        lines.push(`Bin, Shelf & Freezer Ready: ${doneText(bsfDoneClosing)}`);
        lines.push(`Trash Out: ${doneText(trashDoneClosing)}`);
        lines.push(`Supplies Check: ${doneText(supDoneClosing)}`);
        if(supDetailsClosing.length) lines.push(`- Issues: ${supDetailsClosing.join(", ")}`);
        lines.push(``);

        // Cash
        lines.push(`Cash`);
        lines.push(`Drawer Cash: ${drawer}`);
        lines.push(`System Cash Sales: ${systemSales}`);
        lines.push(`Difference: ${diffVal}`);
      }

      return lines.join("\n");
    }

    function openWhatsApp(){
      const msg = buildMessage();
      const url = `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    }

    // Send button with validation
    document.getElementById("btnSend").addEventListener("click", () => {
      const shift = getShiftLabel();
      
      if (shift === "Opening") {
        // Label missing must be filled if checked
        const labelMissingChk = document.getElementById("label_missing_chk");
        const labelMissingText = document.getElementById("label_missing_text");
        if(labelMissingChk.checked && !labelMissingText.value.trim()){
          alert("Please fill in items for: Label missing.");
          labelMissingText.focus();
          return;
        }

        // EXP must be filled if checked
        if(expChk.checked){
          for(let i=1; i<=5; i++){
            const sku = document.getElementById(`exp_sku${i}`);
            const exp = document.getElementById(`exp_exp${i}`);
            if(sku && sku.value.trim() && exp && !exp.value.trim()){
              alert(`Please fill EXP for SKU ${i}.`);
              exp.focus();
              return;
            }
          }
        }
        
        // Freezer issue must have a selection if checked
        if (document.getElementById("freezer_issue").checked) {
          const freezerProblem = document.querySelector('input[name="freezer_problem"]:checked');
          if (!freezerProblem) {
            alert("Please select a freezer issue type.");
            return;
          }
          if (freezerProblem.value === "other" && !document.getElementById("freezer_other_text").value.trim()) {
            alert("Please specify the other freezer issue.");
            document.getElementById("freezer_other_text").focus();
            return;
          }
        }
      }
      
      if (shift === "Closing") {
        // Cash fields should be filled
        if (!$drawer.value.trim() || !$system.value.trim()) {
          alert("Please fill in cash drawer and system cash sales.");
          if (!$drawer.value.trim()) $drawer.focus();
          else $system.focus();
          return;
        }
      }

      openWhatsApp();
    });

    // ---------------------------
    // Service worker (optional)
    // ---------------------------
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js").catch(() => {});
      });
    }
  </script>
</body>
</html>